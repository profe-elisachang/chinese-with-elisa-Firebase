# 🚨 Netlify 異常使用量 - 立即診斷步驟

## 📋 情況說明
網站前天才部署，但已經超過 Netlify 免費額度。這很不正常，需要立即診斷！

---

## 🔥 立即檢查（10分鐘）

### 步驟 1：查看 Netlify Dashboard（5分鐘）

1. **登入 Netlify Dashboard**
   - https://app.netlify.com/
   - 選擇團隊：`profe-EYY`

2. **查看使用量統計**
   ```
   點擊團隊名稱 → Usage
   ```
   - 查看構建時間使用量（Build minutes）
   - 查看帶寬使用量（Bandwidth）
   - 查看使用時間線

3. **查看構建歷史**
   ```
   進入項目 → Deploys
   ```
   - 數一下這兩天有多少次構建
   - 查看每次構建花了多長時間
   - 查看構建觸發原因（Git push？手動？）

### 步驟 2：檢查 Git 提交（2分鐘）

在終端運行：
```bash
# 查看最近 2 天的提交次數
git log --since="2 days ago" --oneline | wc -l

# 查看提交詳情
git log --since="2 days ago" --oneline
```

### 步驟 3：計算使用量（3分鐘）

**計算公式：**
```
構建次數 × 每次構建時間 = 總構建時間
```

**範例：**
- 如果這兩天有 30 次構建
- 每次構建 10 分鐘
- 總共：30 × 10 = 300 分鐘 ✅ 這就是問題！

---

## 🎯 最可能的原因

### 情況 1：構建時間過長（最可能）

**症狀：**
- 構建次數不多（如 15-30 次）
- 但每次構建時間很長（10-20 分鐘）

**解決方案：**
- ✅ 已創建 `netlify.toml`（構建命令為空）
- ✅ 提交配置文件
- ✅ 檢查構建日誌找出慢的原因

### 情況 2：構建次數過多

**症狀：**
- 構建次數很多（如 100+ 次）
- 每次構建時間正常（1-2 分鐘）

**解決方案：**
- ✅ 只構建主分支
- ✅ 使用構建鉤子手動部署
- ✅ 忽略不重要的文件變更

### 情況 3：團隊其他項目

**症狀：**
- 這個項目構建不多
- 但團隊總使用量很高

**解決方案：**
- ✅ 檢查團隊中所有項目
- ✅ 優化所有項目的構建配置

---

## 🛠️ 立即修復（15分鐘）

### 1. 提交優化配置

```bash
git add netlify.toml
git commit -m "優化 Netlify 構建配置，減少構建時間"
git push
```

### 2. 在 Netlify 設置中優化

1. **進入項目設置** → **Build & deploy**
2. **只構建主分支**（main 或 master）
3. **添加忽略構建規則**：
   ```
   *.md
   CHANGELOG.md
   README.md
   .gitignore
   ```

### 3. 考慮使用構建鉤子

1. **進入項目設置** → **Build & deploy** → **Build hooks**
2. **創建構建鉤子**
3. **禁用自動構建**
4. **只在需要時手動觸發**

---

## 📞 聯繫 Netlify 支持

在 Netlify Dashboard 中：
1. 點擊 **Help** 或 **Support**
2. 說明情況：
   ```
   我的項目前天才部署，但已經超過免費額度。
   我已經檢查了使用量，發現 [具體問題]。
   我已經優化了構建配置，請協助恢復項目。
   ```

**提供信息：**
- 團隊名稱：`profe-EYY`
- 項目名稱
- 發現的問題（構建時間過長？構建次數過多？）
- 已採取的優化措施

---

## ✅ 檢查清單

### 診斷階段
- [ ] 查看 Netlify Dashboard 使用量統計
- [ ] 查看構建歷史（次數和時間）
- [ ] 檢查 Git 提交歷史
- [ ] 計算總使用量
- [ ] 找出問題根源

### 修復階段
- [ ] 提交 `netlify.toml` 配置文件
- [ ] 設置只構建主分支
- [ ] 設置忽略構建規則
- [ ] 考慮使用構建鉤子

### 聯繫支持
- [ ] 聯繫 Netlify 支持
- [ ] 說明情況和已採取的措施
- [ ] 請求恢復項目

---

## 💡 預期結果

### 正常情況
- 靜態網站構建時間：30 秒 - 2 分鐘
- 每月 300 分鐘 = 可構建 150-600 次
- 如果每天構建 5 次 = 每月 150 次（正常）

### 您的異常情況
- 如果每次構建 10 分鐘
- 30 次構建 = 300 分鐘 ✅ 這就是問題！
- 需要優化構建時間或減少構建次數

---

**立即行動：先檢查 Netlify Dashboard，找出問題根源！**

